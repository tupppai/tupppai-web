define(["app/views/Base","superSlide","app/models/Activity","app/collections/Asks","app/collections/Channels","app/collections/Replies","app/collections/Activities","app/views/channel/ChannelFoldView","app/views/channel/ChannelWorksView","app/views/channel/ActivityView","app/views/channel/ActivityIntroView","app/views/channel/ChannelDemandView","app/views/channel/AskChannelView","app/views/channel/AskChannelFlowsView","tpl!app/templates/channel/ChannelView.html"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){"use strict";return e.extend({template:d,events:{"click .header-nav":"allHandle","click .fold-icon":"ChannelFold","click .pic-icon":"ChannelPic","click .activitHide":"channelOrActivity","click #check_more":"checkMore","click .super-like":"superLike","click .download":"download"},initialize:function(){$(".header-back").addClass("height-reduce")},checkMore:function(){$("#multiclassContentShowView").empty();var e=$(".bgc-change").attr("data-id");$("#multiclassConainerView").addClass("hide"),$("#allAskConainerView").removeClass("hide");var t=new r;t.data.width=300,t.data.category_id=e;var n=new Backbone.Marionette.Region({el:"#allAskContentShowView"}),i=new p({collection:t});i.collection.reset(),i.collection.loading(),this.scroll(i),n.show(i)},channelOrActivity:function(e){$("#askContainerView").addClass("hide"),$("#askContentShowView").empty(),$("#replyContainerView").addClass("hide"),$("#replyContentShowView").empty(),$("#activityConainerView").addClass("hide"),$("#activityContentShowView").empty(),$("#multiclassConainerView").addClass("hide"),$("#multiclassContentShowView").empty(),$("#askflowsShow").empty(),$("#allAskConainerView").addClass("hide"),$("#allAskContentShowView").empty();var t=this,i=$(e.currentTarget).attr("data-type"),o=$(e.currentTarget).attr("data-id");if(i=="channel"){$("#multiclassConainerView").removeClass("hide"),$(".ask-uploading-popup-hide").removeClass("hide"),$(".fold-icon").click();var u=new r;u.data.size=6,u.data.category_id=o,u.data.page=0;var p=new Backbone.Marionette.Region({el:"#channelDemand"}),d=new c({collection:u});p.show(d),setTimeout(function(){$(".ask-uploading-popup-hide").removeClass("blo")},500),$(".fold-icon").css({backgroundPosition:"-155px -528px"}).siblings(".pic-icon").css({backgroundPosition:"-155px -501px"})}if(i=="activity"){$("#activityConainerView").removeClass("hide");var v=new n;v.url="/activities/"+o,v.fetch();var m=new Backbone.Marionette.Region({el:"#activityIntro"}),d=new l({model:v});m.show(d);var g=$(e.currentTarget).attr("activity-href");$(".attr-href").attr("href",g);var y=$(e.currentTarget).attr("data-src");$(".channel-big-pic img").attr("src",y);var b=new s;b.data.category_id=o,b.data.size=15,b.data.page=0;var w=new Backbone.Marionette.Region({el:"#activityContentShowView"}),E=new f({collection:b});E.collection.reset(),E.collection.loading(),t.scroll(E),w.show(E)}if(i=="ask"){$("#askContainerView").removeClass("hide");var S=0;$("#attrChannelId").attr("data-id",S),$(".login-upload").attr("data-id",S);var u=new r;u.data.size=15,u.data.page=0;var x=new Backbone.Marionette.Region({el:"#askContentShowView"}),T=new h({collection:u});T.collection.reset(),T.collection.loading(),t.scroll(T),x.show(T),setTimeout(function(){$(".ask-uploading-popup-hide").removeClass("blo")},500)}if(i=="reply"){$("#replyContainerView").removeClass("hide");var S=0;$("#attrChannelId").attr("data-id",S),$(".login-upload").attr("data-id",S);var b=new s,N=new Backbone.Marionette.Region({el:"#replyContentShowView"}),C=new a({collection:b});C.collection.reset(),C.collection.data.size=6,C.collection.data.page=0,C.collection.loading(),t.scroll(C),N.show(C),setTimeout(function(){$(".ask-uploading-popup-hide").removeClass("blo")},500)}},allHandle:function(e){$(".header-back").addClass("height-reduce"),$(".channel-header").find(".header-nav").removeClass("bgc-change"),$(e.currentTarget).addClass("bgc-change");var t=$(e.currentTarget).attr("data-id"),n=$(e.currentTarget).attr("data-type");$("#attrChannelId").attr("data-id",t),$(".login-upload").attr("data-id",t),$(".pic-icon").css({backgroundPosition:"-128px -501px"}).siblings(".fold-icon").css({backgroundPosition:"-127px -528px"})},ChannelFold:function(e){var t=$(".bgc-change").attr("data-id"),n=$(".bgc-change").attr("data-type");$("#multiclassContentShowView").empty(),setTimeout(function(){var n=new i;n.data.size=6,n.data.type="replies",n.data.page=0,n.data.category_id=t;var r=new Backbone.Marionette.Region({el:"#multiclassContentShowView"}),s=new u({collection:n});s.scroll(s),s.collection.reset(),s.collection.loading(),r.show(s),$(e.currentTarget).css({backgroundPosition:"-155px -528px"}).siblings(".pic-icon").css({backgroundPosition:"-155px -501px"})},100)},ChannelPic:function(e){$("#multiclassContentShowView").empty();var t=$(".bgc-change").attr("data-id"),n=$(".bgc-change").attr("data-type");if(n=="channel"){$("#multiclassConainerView").removeClass("hide");var r=new s,i=new Backbone.Marionette.Region({el:"#multiclassContentShowView"}),o=new a({collection:r});o.collection.reset(),o.collection.data.category_id=t,o.collection.data.size=15,o.collection.data.page=0,o.collection.loading(),o.scroll(o),i.show(o),$(e.currentTarget).css({backgroundPosition:"-128px -501px"}).siblings(".fold-icon").css({backgroundPosition:"-127px -528px"})}}})});