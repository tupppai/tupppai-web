define(["app/views/Base","app/collections/Messages","app/collections/Replies","tpl!app/templates/message/MessageView.html","app/views/message/MessagePraiseView","app/views/message/MessageSendLoveView"],function(e,t,n,r,i,s){"use strict";return e.extend({tagName:"div",className:"",template:r,events:{"click .message .nav":"switchNav","click .message-receive":"sendComment","click .message-issue":"sendComment","click .like-receive":"sendLike","click .like-issue":"sendLike"},construct:function(){$("a.menu-bar-item").removeClass("active"),this.listenTo(this.model,"change",this.render)},onRender:function(){setTimeout(function(){$(".header-back").addClass("height-reduce")},1e3)},switchNav:function(e){var t=this,n=$(e.currentTarget).attr("data");location.href="/#message/"+n},sendComment:function(e){$(e.currentTarget).hasClass("message-receive")&&(window.location.replace("#message/comment"),setTimeout(function(){$(".title-comment").removeClass("blo").siblings("span").addClass("blo"),$(".message-issue").removeClass("nav-change").siblings("span").addClass("nav-change")},500)),$(e.currentTarget).hasClass("message-issue")&&(window.location.replace("#message/send_comment"),setTimeout(function(){$(".title-comment").removeClass("blo").siblings("span").addClass("blo"),$(".message-receive").removeClass("nav-change").siblings("span").addClass("nav-change")},500))},sendLike:function(e){if($(e.currentTarget).hasClass("like-receive")){$("#message-item-list").empty();var r=new t;r.data.type="like";var o=new Backbone.Marionette.Region({el:"#message-item-list"}),u=new i({collection:r});u.scroll(),u.collection.reset(),u.collection.loading(this.showEmptyView),o.show(u),$(".title-praise").removeClass("blo").siblings("span").addClass("blo"),$(".like-issue").removeClass("nav-change").siblings("span").addClass("nav-change")}if($(e.currentTarget).hasClass("like-issue")){$("#message-item-list").empty();var a=new n;a.data.uid=613,a.url="/user/uped",a.data.page=0,a.data.size=10;var o=new Backbone.Marionette.Region({el:"#message-item-list"}),u=new s({collection:a});u.scroll(),u.collection.reset(),u.collection.loading(this.showEmptyView),o.show(u),$(".title-praise").removeClass("blo").siblings("span").addClass("blo"),$(".like-receive").removeClass("nav-change").siblings("span").addClass("nav-change")}}})});