define(["app/views/Base","tpl!app/templates/channel/ChannelFoldView.html"],function(e,t){"use strict";return e.extend({tagName:"div",className:"channel-fold",template:t,events:{"mouseenter .long-pic, .fold-comments, .channel-works-head, .like-actionbar":"foldScroll","mouseleave .long-pic, .fold-comments, .channel-works-head, .like-actionbar":"foldScroll"},foldScroll:function(e){var t=$(e.currentTarget).parents(".channel-works-right").find(".channel-works-contain"),n=t.length,r=0,i=$(e.currentTarget).parents(".channel-works-right").scrollLeft(),s=$(e.currentTarget).parents(".channel-works-right").attr("foldTime"),o=parseInt($(e.currentTarget).parents(".channel-works-right").attr("speed"));for(var u=0;u<n;u++)r+=t[u].offsetWidth+20;e.type=="mouseenter"&&$(e.currentTarget).hasClass("long-pic")&&(o=1),e.type=="mouseleave"&&$(e.currentTarget).hasClass("long-pic")&&(o=-1),$(e.currentTarget).parents(".channel-works-right").attr("speed",o),r>980&&(clearInterval(s),s=setInterval(function(){o=parseInt(o),i+=o,i+980>r?(clearInterval(s),i=r-980):i<0&&(clearInterval(s),i=0),$(e.currentTarget).parents(".channel-works-right").attr("foldTime",s),$(e.currentTarget).parents(".channel-works-right").scrollLeft(i)},8)),($(e.currentTarget).hasClass("fold-comments")||$(e.currentTarget).hasClass("channel-works-head")||$(e.currentTarget).hasClass("like-actionbar"))&&e.type=="mouseenter"&&clearInterval(s)},construct:function(){this.listenTo(this.collection,"change",this.render)}})});