define(["app/views/base","tpl!app/views/shareavatar/ShareAvatarView.html"],function(e,t){"use strict";return e.extend({tagName:"div",className:"",template:t,events:{"click #uploadImage":"uploadImage","click .effect img":"replaceAvatar"},uploadImage:function(){var e=$("#uploadImage").attr("num"),t=$("#uploadImage").attr("index");wx_choose_image(t,e)},replaceAvatar:function(e){var t=$(e.currentTarget).index(),n=$(e.currentTarget).attr("src");$(".after").find("img").attr("src",n),$("#uploadImage").attr("num",t)},onShow:function(){$("#uploadImage").attr("num",1);var e={};e.code=$("body").attr("data-code"),share_friend(e,function(){},function(){}),share_friend_circle(e,function(){},function(){});var t=window.location.hash.substr(1);$("#uploadImage").attr("index",t);var n=$(".after").find(".avatar-effect").eq(t);$(".before").find("img").eq(t).removeClass("none").siblings("img").addClass("none"),$(".effect").eq(t).removeClass("none").siblings(".avatar-effect").addClass("none"),n.removeClass("none").siblings("img").addClass("none"),n.find("img").eq(1).removeClass("none").siblings("img").addClass("none")}})});