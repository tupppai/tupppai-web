define(["zepto","lib/lazyload/lazyload"],function(e,t){"use strict";e.fn.imageLoad=function(t){var r={width:null,height:null,left:null,right:null,scrop:!1,scrop_function:null},i=e.extend({},r,t);e(this).lazyload({effect:"fadeIn",event:"sporty",data_attribute:"src",url_rewriter_fn:function(e,t){var n=t;n||(n=e.attr("src"));var r=e.width(),i="?imageView2/2/w/";return r<=100?i+=200:r<=320?i+=320:r<=400?i+=400:r<=640?i+=640:i="",n+i},load:function(e,t){i.scrop&&n(e[0],i),i.scrop_function&&i.scrop_function(e[0])}}).trigger("sporty")};var n=function(t,n){var r=e(t),i=r.height(),s=r.width(),o=n.height||r.parent().height(),u=n.width||r.parent().width(),a=i/s;i>o&&s>u?(i<s&&!n.right?(r.width(u),r.height(u*a)):(r.height(o),r.width(o/a)),i=r.height(),s=r.width(),i<s&&!n.right?r.css("top",(o-i)/2):r.css("left",(u-s)/2)):(s>u&&(r.css("left",(u-s)/2),r.css("height",o)),r.css("top",(o-i)/2)),n.right&&r.css("right",n.right),n.left&&r.css("left",n.left),r.parent().css("overflow","hidden"),r.css("position","relative")}});